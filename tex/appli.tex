%# -*- coding: utf-8-unix -*-
%%==================================================
%% chapter01.tex for SJTU Master Thesis
%%==================================================

%\bibliographystyle{sjtu2}%[此处用于每章都生产参考文献]
\chapter{检测模型的应用}
\label{chap:appli}



\section{应用场景描述}





\section{寻找水军行动规律}





\subsection{寻找日期与每日水军评论数量的关系}





\subsection{寻找开业天数与每日水军评论数量的关系}





\subsection{寻找不同店铺间距与共有水军数量的关系}



\IncMargin{1em}
\begin{algorithm}[h]
	\SetAlgoNoLine
	\KwIn{
		Set of shops $M$,
		set of reviewers $R$,
		Threshold of shop review number $\delta$\;}
	
	\KwOut{Pairs of distances and amount of shared spammers $H(d, n)$}
	
	\BlankLine
	
	\For{$\forall m \in M$}{
		\lIf{m.numberOfReviews $<$ $\delta$}{\textbf{continue}}
		$R_m = \{r \in R|m.reviewer = r\}$\;
		Run SpamTracer on $R_m$ to get the class of every reviewer stored as $r.status$\;
		Add $m$ into set $M'$, $M'$ is a set stores all the useful shops\;
	}
	
	\For{$i=1,...,length(M')$}{
		\For{$j=1,...,i$}{
			$d=Distance(M'[i].reviewer, M'[j].reviewer)$\;
			$n=0$\;
			$List=M'[i].reviewer + M'[j].reviewer$\;
			Sort List by the name of reviewers\;
			\For{$k=1,...,length(List)-1$}{
				\lIf{List[k].name = List[k+1].name \&\& List[k].status = spammer \&\& List[k].shop != List[k+1].shop}{$n = n + 1$}
			}
			Add $(d,n)$ into set $H$\;
		}
	}
	
	\caption{Calculate the interval distance and amount of shared spammers between two shops}
	\label{alg:shared spammer}
\end{algorithm}
\DecMargin{1em} 